# Handling User Input With React
This tutorial is aimed at teaching you how to handle taking standard user input (text, checkbox, radio button, dropdown selection) and setting it to state with React.

If you are still unfamiliar with topics such as **props, state, setState(), JSX, or spread operators like using ```{...this.state}```**, then I would recommend that you first go through the **basic react tutorial** found at https://github.homedepot.com/jch4905/basic-react-tutorial.

If you are unfamiliar with **basic html input types (text, radio, checkbox, number, select/option)** then I would recommend researching them first. W3schools has great code tutorials, this is their **Input Types** page https://www.w3schools.com/html/html_form_input_types.asp which covers all the input types that we will use in this tutorial and more.

For each example, I have already linked the JSX elements to their functions, and added console logs to those functions. I would encourage you to use the inputs to trigger those functions when you begin each section and see what the console logs show.

To get started, run **git clone https://github.homedepot.com/jch4905/react-user-input-tutorial.git** to get the app locally and then run **npm install** and then **npm start** to spin up the application in your browser.

## Basic text input
```javascript
event.target.name and event.target.value
```
Probably the most standard of them all. Capturing text as a user types it into a textbox, and setting it to state.

```javascript
handleRegularInputChange = (event) => {
    const newState = {...this.state}
    newState[event.target.name] = event.target.value
    this.setState(newState)
}
```
Right now it might seem odd that we didn’t pass a parameter to the function in the JSX, but for some reason we’re successfully able to call a parameter object that we called event, and it is able to give us the name and value that we want to update in state. Why is that?

### Understanding event, event.target, and how we are using them
Personally, I like the Mozilla explanation of Event.

>The Event interface represents an event which takes place in the DOM; some are user-generated (such as mouse or keyboard events), while others are generated by APIs (such as events that indicate an animation has finished running, a video has been paused, and so forth). While events are usually triggered by such “external” sources, they can also be triggered programmatically, such as by calling the HTMLElement.click() method of an element

Basically, it allows us to capture the user interactions that happen with the UI (event), determine what element they happened to (event.target), and in doing so we get access to the props of that element (like event.target.name and event.target.value).

The value of the textbox is it’s inner text that the user has typed. Every time the user types a key it triggers the onChange function of the element. Since we gave the element a prop of **name** that matches the name of the property within the state object, we are able to say **make the state value called (event.target.name) now equal to (event.target.value)**
or 
**newState[event.target.name] = event.target.value**

Further reading: 
- W3Schools: https://www.w3schools.com/jsref/obj_event.asp
- Mozilla Docs: https://developer.mozilla.org/en-US/docs/Web/API/Event

### Updating an object within state
The function above could ideally work for any of our text inputs on a page, but not if we need to update a value that exists within an object, that exists within the state object. 

For example, look at our firstAndLastName object in state.

```javascript
state = {
    exampleString: "Edit me",
    firstAndLastName: {
      firstName: "",
      lastName: ""
    },
    buttonClickValue: false,
    radioValue: "Red",
    isRobot: false,
    isSure: false,
    yearsOfExperience: 0,
    typeOfRobot: "good"
}
```

We can’t just say 
```javascript
newState[event.target.name] = event.target.value
``` 
because what we really want to modify is 
```javascript
newState.firstAndLastName[event.target.name] = event.target.value
```
so we will need a separate function for updating the values within firstAndLastName. This function has already been created for you, but now you need to fill it in.

```javascript
<input type="text" name="firstName" onChange={this.updateFirstAndLastName} placeholder="Enter first name"/>
```
```javascript
<input type="text" name="lastName" onChange={this.updateFirstAndLastName} placeholder="Enter last name"/>
```

```javascript
updateFirstAndLastName = (event) => {
    const copyOfObject = {...this.state.firstAndLastName}
    copyOfObject[event.target.name] = event.target.value
    this.setState({firstAndLastName: copyOfObject})
}
```

**Cool tip:** If we give our copied object the same name as the object it copies 
```javascript 
const firstAndLastName
``` 
instead of 
```javascript 
const copyOfObject
``` 
then we can just say 
```javascript 
this.setState({firstAndLastName})
```
which is the same as saying
```javascript 
this.setState({firstAndLastName: firstAndLastName})
```
so the function can just end up looking like this
```javascript
updateFirstAndLastName = (event) => {
    const firstAndLastName = {...this.state.firstAndLastName}
    firstAndLastName[event.target.name] = event.target.value
    this.setState({firstAndLastName})
}
```

## Capturing user clicking
Very simple. Just supply a function to the element (in this case we are using a button) using the onClick prop. This is already done for you.

```javascript
<button onClick={this.handleClickingButton}>Click Me</button>
```

This function can do whatever you need it to. In our case it just toggles a value to be true or false. This function just says make the boolean value equal to the opposite of what it currently equals. You can see the value update each time you click the button.

```javascript
handleClickingButton = () => {
    this.setState({buttonClickValue: !this.state.buttonClickValue})
}
```

## Number input
```javascript
event.target.name and event.target.value
```
To capture a number input, we use the same pattern as the text input. 

```javascript
<input name="yearsOfExperience" type="number" value={this.state.yearsOfExperience} onChange={this.handleNumberChange}/>
```

```javascript
handleNumberChange = (event) => {
    const newState = {...this.state}
    newState[event.target.name] = event.target.value
    this.setState(newState)
}
```

## Radio input
```javascript
event.target.name and event.target.value
```
The JSX looks a bit different, since there will be multiple input elements involved in creating our block of radio buttons

```javascript
<label>
    <input type="radio" name="radioValue" value="Red" checked={this.state.radioValue === "Red"} onChange={this.handleRadioChange}/>
    Red
</label>
<label>
    <input type="radio" name="radioValue" value="Green" checked={this.state.radioValue === "Green"} onChange={this.handleRadioChange}/>
    Green
</label>
<label>
    <input type="radio" name="radioValue" value="Blue" checked={this.state.radioValue === "Blue"} onChange={this.handleRadioChange}/>
    Blue
</label>
```
but once again it is the same pattern.
```javascript
handleRadioChange = (event) => {
    const newState = {...this.state}
    newState[event.target.name] = event.target.value
    this.setState(newState)
}
```

## Checkbox input
```javascript
event.target.name and event.target.checked
```
Finally, something a little different. Instead of event.target.value, we will use event.target.checked.

```javascript
<input name="isRobot" type="checkbox" checked={this.state.isRobot} onChange={this.handleCheckboxChange}/>
```
```javascript
<input type="checkbox" name="isSure" type="checkbox" checked={this.state.isSure}onChange={this.handleCheckboxChange}/>
```

```javascript
handleCheckboxChange = (event) => {
    const newState = {...this.state}
    newState[event.target.name] = event.target.checked
    this.setState(newState)
}
```

## Select/Option input
```javascript
event.target.name and event.target.value
```
Now we go straight back to the original pattern. 

```javascript
<select value={this.state.typeOfRobot} onChange={this.handleSelectChange} name="typeOfRobot">
    <option value="good">Good</option>
    <option value="evil">Evil</option>
    <option value="jedi master">Only a Sith deals in absolutes</option>
</select>
```

```javascript
handleSelectChange = (event) => {
    const newState = {...this.state}
    newState[event.target.name] = event.target.value
    this.setState(newState)
}
```

## Finale: Bring it all together

#### Handle any text input with one function
By now we see that almost all these functions are exactly the same. For that reason, we can change them all to call one single function instead. In doing so, we adhere to the DRY principle of coding (Don’t Repeat Yourself).

```javascript
handleChange = (event) => {
    const newState = {...this.state}
    newState[event.target.name] = event.target.value 
    this.setState(newState);
}
```
- Extra steps still need to be taken to handle changing a value that exists in an object within the state object, like the firstAndLastName example we did earlier. For that reason, those inputs will still be using their original, shared onChange function.

#### Handle checkbox as well
Wouldn’t it be nice if this worked for our checkbox too? If we just check the type of input (looking to see if it is a checkbox or not), we can make a slight adjustment to our function that will handle checkboxes too.

```javascript
handleChange = (event) => {
    const value
    if (event.target.type === 'checkbox') {
        value = event.target.checked
    }
    else {
        value = event.target.value
    }
    const newState = {...this.state}
    newState[event.target.name] = value 
    this.setState(newState);
}
```
or 

```javascript
handleChange = (event) => {
    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;
    const newState = {...this.state}
    newState[event.target.name] = value 
    this.setState(newState);
}
```

We also don’t have to make the copy of state (newState) object for updating the value. The entire function could happen in one line, and still read well. This is the syntax that the official React docs use, but just do whatever reads best to you and your team.
```javascript 
handleChange = (event) => {
    this.setState({[event.target.name]: event.target.value}
} 
```
If you had to incorporate checkboxes, it would look like this.
```javascript
handleChange = (event) => {
    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;
    this.setState({[event.target.name]: value});
}
```
## YOU’RE DONE